(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5090c460"],{"0bf6":function(e,t,c){},"11c1":function(e,t,c){"use strict";c("713f")},"4f98":function(e,t,c){"use strict";c("0bf6")},"713f":function(e,t,c){},"805d":function(e,t,c){"use strict";c("8aa3")},"8aa3":function(e,t,c){},b326:function(e,t,c){"use strict";var n=c("7a23"),o={class:"text"};function r(e,t,c,r,l,a){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"down"},{default:Object(n["withCtx"])((function(){return[r.visible?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"xtx-message",style:Object(n["normalizeStyle"])(r.style[c.type])},[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont",[r.style[c.type].icon]])},null,2),Object(n["createElementVNode"])("span",o,Object(n["toDisplayString"])(c.text),1)],4)):Object(n["createCommentVNode"])("",!0)]})),_:1})}var l={name:"XtxMessage",props:{text:{type:String,default:""},type:{type:String,default:"warn"}},setup:function(){var e={warn:{icon:"icon-warning",color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{icon:"icon-shanchu",color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{icon:"icon-queren2",color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=Object(n["ref"])(!1);return{style:e,visible:t}}},a=(c("11c1"),c("6b0d")),i=c.n(a);const s=i()(l,[["render",r],["__scopeId","data-v-319c08a0"]]);var u=s;t["a"]=function(e){var t=e.type,c=e.text,o=e.time,r=void 0===o?2e3:o,l=Object(n["createVNode"])(u,{type:t,text:c});Object(n["render"])(l,document.body),l.component.setupState.visible=!0,setTimeout((function(){l.component.setupState.visible=!1}),r)}},cb59:function(e,t,c){},cdc4:function(e,t,c){"use strict";c("dacf")},d232:function(e,t,c){"use strict";c("cb59")},dacf:function(e,t,c){},de6d:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-c89076aa"),e=e(),Object(n["popScopeId"])(),e},r={key:0,class:"xtx-goods-page"},l={class:"container"},a=Object(n["createTextVNode"])("首页"),i={class:"goods-info"},s={class:"media"},u={class:"spec"},d=Object(n["createTextVNode"])(" 加入购物车 "),b={class:"goods-footer"},O={class:"goods-article"},j={class:"goods-tabs"},m=o((function(){return Object(n["createElementVNode"])("div",{class:"goods-aside"},null,-1)}));function p(e,t,c,o,p,f){var v=Object(n["resolveComponent"])("XtxBreadItem"),g=Object(n["resolveComponent"])("XtxBread"),V=Object(n["resolveComponent"])("GoodsImage"),N=Object(n["resolveComponent"])("GoodsSales"),E=Object(n["resolveComponent"])("GoodsName"),x=Object(n["resolveComponent"])("GoodsSku"),y=Object(n["resolveComponent"])("XtxNumbox"),k=Object(n["resolveComponent"])("XtxButton"),C=Object(n["resolveDirective"])("imglazy");return o.listDetails&&o.listDetails.categories?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(g,{separator:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{to:"/"},{default:Object(n["withCtx"])((function(){return[a]})),_:1}),Object(n["createVNode"])(v,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.listDetails.categories[1].name),1)]})),_:1}),Object(n["createVNode"])(v,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.listDetails.categories[0].name),1)]})),_:1}),Object(n["createVNode"])(v,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.listDetails.name),1)]})),_:1})]})),_:1}),Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(V,{mainPictures:o.listDetails.mainPictures},null,8,["mainPictures"]),Object(n["createVNode"])(N)]),Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(E),Object(n["createVNode"])(x,{goods:o.listDetails,onChange:o.selSku},null,8,["goods","onChange"]),Object(n["createVNode"])(y,{max:o.listDetails.inventory,min:1,modelValue:o.modelValues,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.modelValues=e})},null,8,["max","modelValue"]),Object(n["createVNode"])(k,{size:"large",type:"red",onClick:o.addCart},{default:Object(n["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.listDetails.details.pictures,(function(e,t){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:t,alt:""},null,512)),[[C,e]])})),128))])]),m])])])):Object(n["createCommentVNode"])("",!0)}var f=c("1da1"),v=(c("96cf"),c("b775")),g=function(e){return Object(v["a"])("/goods","get",{id:e})},V=c("6c02"),N=(c("99af"),{class:"goods-image"}),E={class:"middle",ref:"leftImg"},x=["src"],y={class:"small"},k=["onMouseenter"],C=["src"];function S(e,t,c,o,r,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",N,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"large",style:Object(n["normalizeStyle"])([{backgroundImage:"url(".concat(c.mainPictures[o.currentIndex],")"),backgroundPosition:"".concat(o.bg.x,"px  ").concat(o.bg.y,"px")}])},null,4),[[n["vShow"],!o.isOutside]]),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("img",{src:c.mainPictures[o.currentIndex],alt:""},null,8,x),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"layer",style:Object(n["normalizeStyle"])({left:"".concat(o.pos.left,"px"),top:"".concat(o.pos.top,"px")})},null,4),[[n["vShow"],!o.isOutside]])],512),Object(n["createElementVNode"])("ul",y,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.mainPictures,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t,onMouseenter:function(e){return o.currentIndex=t}},[Object(n["createElementVNode"])("img",{src:e,alt:""},null,8,C)],40,k)})),128))])])}var w=c("5550"),h={name:"GoodsImage",props:{mainPictures:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(n["ref"])(0),t=Object(n["ref"])(null),c=Object(w["c"])(t),o=c.elementX,r=c.elementY,l=c.isOutside,a=Object(n["ref"])({left:0,top:0}),i=Object(n["ref"])({x:0,y:0});return Object(n["watch"])([o,r],(function(){o.value<100?a.value.left=0:o.value>300?a.value.left=200:a.value.left=o.value-100,r.value<100?a.value.top=0:r.value>300?a.value.top=200:a.value.top=r.value-100,i.value.x=2*-a.value.left,i.value.y=2*-a.value.top})),{currentIndex:e,leftImg:t,elementX:o,elementY:r,isOutside:l,pos:a,bg:i}}},D=(c("cdc4"),c("6b0d")),I=c.n(D);const B=I()(h,[["render",S],["__scopeId","data-v-1d3887f8"]]);var _=B,P=function(e){return Object(n["pushScopeId"])("data-v-378f5cba"),e=e(),Object(n["popScopeId"])(),e},T={class:"goods-sales"},G=P((function(){return Object(n["createElementVNode"])("p",null,"销量人气",-1)})),X=P((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-task-filling"}),Object(n["createTextVNode"])("销量人气")],-1)})),z=P((function(){return Object(n["createElementVNode"])("p",null,"商品评价",-1)})),A=P((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-comment-filling"}),Object(n["createTextVNode"])("查看评价")],-1)})),F=P((function(){return Object(n["createElementVNode"])("p",null,"收藏人气",-1)})),R=P((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-favorite-filling"}),Object(n["createTextVNode"])("收藏商品")],-1)})),M=P((function(){return Object(n["createElementVNode"])("p",null,"品牌信息",-1)})),J=P((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-dynamic-filling"}),Object(n["createTextVNode"])("品牌主页")],-1)}));function L(e,t,c,o,r,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",T,[Object(n["createElementVNode"])("li",null,[G,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.salesCount),1),X]),Object(n["createElementVNode"])("li",null,[z,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.commentCount),1),A]),Object(n["createElementVNode"])("li",null,[F,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.collectCount),1),R]),Object(n["createElementVNode"])("li",null,[M,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.brand.name),1),J])])}var Y={name:"GoodsSales",setup:function(){var e=Object(n["inject"])("goods");return{goods:e}}};c("d232");const q=I()(Y,[["render",L],["__scopeId","data-v-378f5cba"]]);var U=q,H=function(e){return Object(n["pushScopeId"])("data-v-1ce2f970"),e=e(),Object(n["popScopeId"])(),e},K={class:"g-name"},Q={class:"g-desc"},W={class:"g-price"},Z={class:"g-service"},$=H((function(){return Object(n["createElementVNode"])("dl",null,[Object(n["createElementVNode"])("dt",null,"促销"),Object(n["createElementVNode"])("dd",null,"12月好物放送，App领券购买直降120元")],-1)})),ee=H((function(){return Object(n["createElementVNode"])("dt",null,"配送",-1)})),te=H((function(){return Object(n["createElementVNode"])("dd",null,"至",-1)})),ce=H((function(){return Object(n["createElementVNode"])("dl",null,[Object(n["createElementVNode"])("dt",null,"服务"),Object(n["createElementVNode"])("dd",null,[Object(n["createElementVNode"])("span",null,"无忧退货"),Object(n["createElementVNode"])("span",null,"快速退款"),Object(n["createElementVNode"])("span",null,"免费包邮"),Object(n["createElementVNode"])("a",{href:"javascript:;"},"了解详情")])],-1)}));function ne(e,t,c,o,r,l){var a=Object(n["resolveComponent"])("XtxCity");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("p",K,Object(n["toDisplayString"])(o.goods.name),1),Object(n["createElementVNode"])("p",Q,Object(n["toDisplayString"])(o.goods.desc),1),Object(n["createElementVNode"])("p",W,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.goods.price),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.goods.oldPrice),1)]),Object(n["createElementVNode"])("div",Z,[$,Object(n["createElementVNode"])("dl",null,[ee,te,Object(n["createElementVNode"])("dd",null,[Object(n["createVNode"])(a)])]),ce])],64)}var oe={name:"GoodName",setup:function(){var e=Object(n["inject"])("goods");return{goods:e}}};c("805d");const re=I()(oe,[["render",ne],["__scopeId","data-v-1ce2f970"]]);var le=re,ae=c("b326"),ie=c("5502"),se=function(){var e=Object(n["ref"])(1),t=Object(n["ref"])({});Object(n["provide"])("goods",t);var c=Object(V["c"])(),o=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g(c.params.id);case 2:n=e.sent,o=n.result,console.log("商品详情",o),t.value=o;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o(),{listDetails:t,modelValues:e}},ue=function(e){var t=Object(n["ref"])(null),c=function(c){console.log("选中的sku信息",c),c.skuId?(e.value.price=c.price,e.value.oldPrice=c.oldPrice,e.value.inventory=c.inventory,t.value=c):t.value=null};return{selSku:c,currSel:t}},de=function(e,t,c){var o=Object(ie["e"])(),r=function(){var r=Object(f["a"])(regeneratorRuntime.mark((function r(){var l,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.value){r.next=2;break}return r.abrupt("return",Object(ae["a"])({type:"warn",text:"请选择完整的sku信息",time:2e3}));case 2:if(0!==t.value.inventory){r.next=4;break}return r.abrupt("return",Object(ae["a"])({type:"warn",text:"亲，你的宝贝买完了",time:2e3}));case 4:return l=Object(n["reactive"])({id:e.value.id,name:e.value.name,picture:e.value.mainPictures[0],skuId:t.value.skuId,price:t.value.oldPrice,nowPrice:t.value.price,attrsText:t.value.specsText,stock:t.value.inventory,selected:!0,isEffective:!0,count:c.value}),console.log("秒了",l),r.prev=6,r.next=9,o.dispatch("cart/addCartActions",l);case 9:a=r.sent,console.log("我是加入的回调promise",a),Object(ae["a"])({type:"success",text:a,time:2e3}),r.next=16;break;case 14:r.prev=14,r.t0=r["catch"](6);case 16:case"end":return r.stop()}}),r,null,[[6,14]])})));return function(){return r.apply(this,arguments)}}();return{addCart:r}},be={name:"XtxGoodsPage",components:{GoodsImage:_,GoodsSales:U,GoodsName:le},setup:function(){var e=se(),t=e.listDetails,c=e.modelValues,n=ue(t),o=n.selSku,r=n.currSel,l=de(t,r,c),a=l.addCart;return{listDetails:t,modelValues:c,addCart:a,currSel:r,msg:ae["a"],selSku:o}}};c("4f98");const Oe=I()(be,[["render",p],["__scopeId","data-v-c89076aa"]]);t["default"]=Oe}}]);
//# sourceMappingURL=chunk-5090c460.400cc492.js.map